(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5299:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},5369:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),a=s(2115);function o(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,n]=(0,a.useState)("");(0,a.useEffect)(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js").then(e=>{console.log("✅ Service Worker registered successfully:",e),e.update();let t=setInterval(()=>{"visible"===document.visibilityState&&e.update()},3e4);return()=>clearInterval(t)}).catch(e=>{console.error("❌ Service Worker registration failed:",e)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("\uD83D\uDD04 Service Worker controller changed - reloading page"),window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{console.log("\uD83D\uDCE8 Message from Service Worker:",e.data),"SW_UPDATED"===e.data.type&&(n(e.data.version),o(!0),setTimeout(()=>{s&&(console.log("\uD83D\uDD04 Auto-reloading for update..."),window.location.reload())},3e3))}),navigator.serviceWorker.ready.then(e=>{e.waiting&&(t(!0),console.log("\uD83D\uDD04 Update available on page load")),e.addEventListener("updatefound",()=>{let s=e.installing;s&&(t(!0),console.log("\uD83D\uDD04 New service worker found"),s.addEventListener("statechange",()=>{"installed"===s.state&&(navigator.serviceWorker.controller?(console.log("\uD83C\uDD95 New content available - update ready"),o(!0),t(!1)):console.log("\uD83C\uDF89 App installed for offline use"))}))})}))},[s]);let i=()=>{o(!1),t(!1)};return s&&l?(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm bg-blue-600 text-white rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:"App Updated!"}),(0,r.jsxs)("p",{className:"text-xs text-blue-100 mt-1",children:["Version ",l," is ready. Reload to get the latest features."]}),(0,r.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{s&&navigator.serviceWorker.getRegistration().then(e=>{e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})})},className:"bg-blue-500 hover:bg-blue-400 text-white text-xs px-3 py-1 rounded transition-colors",children:"Reload Now"}),(0,r.jsx)("button",{onClick:i,className:"bg-transparent hover:bg-blue-500 text-blue-200 hover:text-white text-xs px-3 py-1 rounded border border-blue-400 transition-colors",children:"Later"})]})]}),(0,r.jsx)("button",{onClick:i,className:"flex-shrink-0 ml-2 text-blue-200 hover:text-white",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):e?(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm bg-green-600 text-white rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-2 h-2 bg-green-200 rounded-full animate-pulse"})}),(0,r.jsx)("div",{className:"ml-3 flex-1",children:(0,r.jsx)("p",{className:"text-sm",children:"Downloading update..."})})]})}):null}},6049:(e,t,s)=>{Promise.resolve().then(s.bind(s,5369)),Promise.resolve().then(s.t.bind(s,5299,23)),Promise.resolve().then(s.t.bind(s,9324,23))},9324:()=>{}},e=>{e.O(0,[618,441,964,358],()=>e(e.s=6049)),_N_E=e.O()}]);