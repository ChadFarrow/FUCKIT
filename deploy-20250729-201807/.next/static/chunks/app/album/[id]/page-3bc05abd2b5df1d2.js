(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8880],{355:(e,t,o)=>{"use strict";o.d(t,{default:()=>w});var l=o(5155),a=o(2115),s=o(6874),r=o.n(s),c=o(6766),i=o(5169),n=o(2178),d=o(5690),m=o(5001),u=o(7655),h=o(8984),f=o(2068);function w(e){let{albumTitle:t,initialAlbum:o}=e,[s,w]=(0,a.useState)(o),[g,p]=(0,a.useState)(!o),[v,b]=(0,a.useState)(null),[x,k]=(0,a.useState)([]),{playAlbum:y,currentPlayingAlbum:j,isPlaying:A,currentTrackIndex:N,currentTime:C,duration:D,pause:L,resume:T,seek:B,shuffleAllTracks:E}=(0,h.G)(),[S,I]=(0,a.useState)(null),[_,U]=(0,a.useState)(!1),[R,z]=(0,a.useState)(!1),[F,M]=(0,a.useState)(!1),[P,V]=(0,a.useState)(null),[H,G]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{G(window.innerWidth>768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{_&&H&&(async()=>{try{let e=await fetch("/api/albums");if(e.ok){let o=(await e.json()).albums||[],l=decodeURIComponent(t),a=o.find(e=>e.title.toLowerCase()===l.toLowerCase());if(null==a?void 0:a.coverArt){console.log("\uD83C\uDFA8 Preloading background image for desktop:",a.coverArt);let e=Date.now(),t=a.coverArt.includes("?")?"".concat(a.coverArt,"&cb=").concat(e):"".concat(a.coverArt,"?cb=").concat(e),o=new window.Image;o.onload=()=>{console.log("✅ Background image preloaded successfully:",a.coverArt),I(t),z(!0)},o.onerror=e=>{if(console.error("❌ Background image preload failed:",a.coverArt,e),a.coverArt&&!a.coverArt.includes("re.podtards.com")){let e="/api/proxy-image?url=".concat(encodeURIComponent(a.coverArt));console.log("\uD83D\uDD04 Trying image proxy for background:",e);let t=new window.Image;t.onload=()=>{console.log("✅ Background image preloaded with proxy:",e),I(e),z(!0)},t.onerror=t=>{console.error("❌ Background image proxy also failed:",e,t);let o=new window.Image;o.onload=()=>{console.log("✅ Background image preloaded with fallback URL:",a.coverArt),I(a.coverArt||null),z(!0)},o.onerror=e=>{console.error("❌ Background image preload fallback also failed:",a.coverArt,e),I(null),z(!0)},o.decoding="async",o.src=a.coverArt},t.decoding="async",t.src=e}else{let e=new window.Image;e.onload=()=>{console.log("✅ Background image preloaded with fallback URL:",a.coverArt),I(a.coverArt||null),z(!0)},e.onerror=e=>{console.error("❌ Background image preload fallback also failed:",a.coverArt,e),I(null),z(!0)},e.decoding="async",e.src=a.coverArt}},o.decoding="async",o.src=t}else console.log("\uD83D\uDEAB No album found for preloading, using gradient background"),I(null),z(!0)}}catch(e){console.error("❌ Error preloading background image:",e),I(null),z(!0)}})()},[_,H,t]);let W=async()=>{A&&(null==j?void 0:j.title)===(null==s?void 0:s.title)?L():s&&s.tracks.length>0&&await K(N)},K=async e=>{if(!s||!s.tracks[e]||!s.tracks[e].url)return void console.error("❌ Missing album, track, or URL");if(console.log("\uD83C\uDFB5 Attempting to play track:",s.tracks[e].title,"URL:",s.tracks[e].url),await y(s,e)){var t;console.log("✅ Track playback started successfully via global audio context"),t=s.tracks[e],"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:(null==s?void 0:s.artist)||"Unknown Artist",album:(null==s?void 0:s.title)||"Unknown Album",artwork:[{src:(null==s?void 0:s.coverArt)||"",sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",()=>W()),navigator.mediaSession.setActionHandler("pause",()=>W()),navigator.mediaSession.setActionHandler("previoustrack",()=>q()),navigator.mediaSession.setActionHandler("nexttrack",()=>Y()))}else console.error("❌ Failed to play track via global audio context"),b("Unable to play audio - please try a different track"),setTimeout(()=>b(null),5e3)},O=async()=>{s&&s.tracks.length>0&&await K(0)},Y=async()=>{s&&N<s.tracks.length-1&&await K(N+1)},q=async()=>{s&&N>0&&await K(N-1)};(0,a.useEffect)(()=>{U(!0)},[]),(0,a.useEffect)(()=>{if(g||!s||H&&S||(null==s?void 0:s.coverArt)===P)return;if(console.log("\uD83C\uDFA8 Background update triggered:",{albumTitle:null==s?void 0:s.title,coverArt:null==s?void 0:s.coverArt,hasCoverArt:!!(null==s?void 0:s.coverArt),isDesktop:H}),V((null==s?void 0:s.coverArt)||null),z(!1),M(!1),null==s?void 0:s.coverArt){console.log("\uD83D\uDDBC️ Loading background image:",null==s?void 0:s.coverArt);let e=Date.now(),t=(null==s?void 0:s.coverArt.includes("?"))?"".concat(null==s?void 0:s.coverArt,"&cb=").concat(e):"".concat(null==s?void 0:s.coverArt,"?cb=").concat(e),o=new window.Image;o.onload=()=>{console.log("✅ Background image loaded successfully:",null==s?void 0:s.coverArt),I(t),z(!0)},o.onerror=e=>{if(console.error("❌ Background image failed to load:",null==s?void 0:s.coverArt,e),(null==s?void 0:s.coverArt)&&!(null==s?void 0:s.coverArt.includes("re.podtards.com"))){let e="/api/proxy-image?url=".concat(encodeURIComponent(null==s?void 0:s.coverArt));console.log("\uD83D\uDD04 Trying image proxy for background:",e);let t=new window.Image;t.onload=()=>{console.log("✅ Background image loaded with proxy:",e),I(e),z(!0)},t.onerror=t=>{console.error("❌ Background image proxy also failed:",e,t);let o=new window.Image;o.onload=()=>{console.log("✅ Background image loaded with fallback URL:",null==s?void 0:s.coverArt),I((null==s?void 0:s.coverArt)||null),z(!0)},o.onerror=e=>{console.error("❌ Background image fallback also failed:",null==s?void 0:s.coverArt,e),I(null),z(!0)},o.decoding="async",o.src=(null==s?void 0:s.coverArt)||""},t.decoding="async",t.src=e}else{let e=new window.Image;e.onload=()=>{console.log("✅ Background image loaded with fallback URL:",null==s?void 0:s.coverArt),I((null==s?void 0:s.coverArt)||null),z(!0)},e.onerror=e=>{console.error("❌ Background image fallback also failed:",null==s?void 0:s.coverArt,e),I(null),z(!0)},e.decoding="async",e.src=(null==s?void 0:s.coverArt)||""}},o.decoding="async",o.src=t}else console.log("\uD83D\uDEAB No cover art available, using gradient background"),I(null),z(!0);let e=setTimeout(()=>{console.log("⏰ Background loading timeout - marking as loaded"),z(!0)},3e3);return()=>clearTimeout(e)},[null==s?void 0:s.coverArt,P,g,s,H,S]);let X=(0,a.useMemo)(()=>S&&_?{background:"linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.9)), url('".concat(S,"') center/cover fixed"),backgroundAttachment:"fixed"}:{background:"linear-gradient(to bottom right, rgb(17, 24, 39), rgb(31, 41, 55), rgb(17, 24, 39))"},[S,_]);(0,a.useEffect)(()=>{o?(o.podroll&&o.podroll.length>0&&Z(o.podroll),o.publisher&&o.publisher.feedUrl&&J(o.publisher.feedUrl)):(async()=>{try{p(!0),b(null);let e=decodeURIComponent(t),o=e.replace(/-/g," "),l=o.toLowerCase(),a={"into the doerfel-verse":"https://www.doerfelverse.com/feeds/intothedoerfelverse.xml","into the doerfelverse":"https://www.doerfelverse.com/feeds/intothedoerfelverse.xml","music from the doerfel-verse":"https://www.doerfelverse.com/feeds/music-from-the-doerfelverse.xml","music-from-the-doerfel-verse":"https://www.doerfelverse.com/feeds/music-from-the-doerfelverse.xml","music from the doerfelverse":"https://www.doerfelverse.com/feeds/music-from-the-doerfelverse.xml","bloodshot lies":"https://www.doerfelverse.com/feeds/bloodshot-lies-album.xml","bloodshot lies album":"https://www.doerfelverse.com/feeds/bloodshot-lies-album.xml","wrath of banjo":"https://www.doerfelverse.com/feeds/wrath-of-banjo.xml","beware of banjo":"https://www.sirtjthewrathful.com/wp-content/uploads/2023/07/Beware-of-Banjo.xml","ben doerfel":"https://www.doerfelverse.com/feeds/ben-doerfel.xml","18 sundays":"https://www.doerfelverse.com/feeds/18sundays.xml",alandace:"https://www.doerfelverse.com/feeds/alandace.xml",autumn:"https://www.doerfelverse.com/feeds/autumn.xml","christ exalted":"https://www.doerfelverse.com/feeds/christ-exalted.xml","come back to me":"https://www.doerfelverse.com/feeds/come-back-to-me.xml","dead time live 2016":"https://www.doerfelverse.com/feeds/dead-time-live-2016.xml","dfb v1":"https://www.doerfelverse.com/feeds/dfbv1.xml","dfb v2":"https://www.doerfelverse.com/feeds/dfbv2.xml","disco swag":"https://www.doerfelverse.com/feeds/disco-swag.xml","doerfels pubfeed":"https://www.doerfelverse.com/feeds/music-from-the-doerfelverse.xml","first married christmas":"https://www.doerfelverse.com/feeds/first-married-christmas.xml","generation gap":"https://www.doerfelverse.com/feeds/generation-gap.xml",heartbreak:"https://www.doerfelverse.com/feeds/heartbreak.xml","merry christmix":"https://www.doerfelverse.com/feeds/merry-christmix.xml","middle season let go":"https://www.doerfelverse.com/feeds/middle-season-let-go.xml","phatty the grasshopper":"https://www.doerfelverse.com/feeds/phatty-the-grasshopper.xml",possible:"https://www.doerfelverse.com/feeds/possible.xml","pour over":"https://www.doerfelverse.com/feeds/pour-over.xml","psalm 54":"https://www.doerfelverse.com/feeds/psalm-54.xml","sensitive guy":"https://www.doerfelverse.com/feeds/sensitive-guy.xml","they dont know":"https://www.doerfelverse.com/feeds/they-dont-know.xml","think ep":"https://www.doerfelverse.com/feeds/think-ep.xml","underwater single":"https://www.doerfelverse.com/feeds/underwater-single.xml","unsound existence":"https://www.doerfelverse.com/feeds/unsound-existence.xml","you are my world":"https://www.doerfelverse.com/feeds/you-are-my-world.xml","you feel like home":"https://www.doerfelverse.com/feeds/you-feel-like-home.xml","your chance":"https://www.doerfelverse.com/feeds/your-chance.xml",nostalgic:"https://www.sirtjthewrathful.com/wp-content/uploads/2023/08/Nostalgic.xml",citybeach:"https://www.sirtjthewrathful.com/wp-content/uploads/2023/08/CityBeach.xml","kurtisdrums v1":"https://www.sirtjthewrathful.com/wp-content/uploads/2023/08/Kurtisdrums-V1.xml","ring that bell":"https://www.thisisjdog.com/media/ring-that-bell.xml",tinderbox:"https://wavlake.com/feed/music/d677db67-0310-4813-970e-e65927c689f1","nate johnivan":"https://wavlake.com/feed/music/e678589b-5a9f-4918-9622-34119d2eed2c","fountain artist takeover":"https://wavlake.com/feed/music/6dc5c681-8beb-4193-93a3-d405c962d103","fountain-artist-takeover":"https://wavlake.com/feed/music/6dc5c681-8beb-4193-93a3-d405c962d103","fountain artist takeover nate johnivan":"https://wavlake.com/feed/music/6dc5c681-8beb-4193-93a3-d405c962d103","fountain-artist-takeover-nate-johnivan":"https://wavlake.com/feed/music/6dc5c681-8beb-4193-93a3-d405c962d103","empty passenger seat":"https://wavlake.com/feed/music/95ea253a-4058-402c-8503-204f6d3f1494","joe martin":"https://wavlake.com/feed/music/95ea253a-4058-402c-8503-204f6d3f1494","stay awhile":"https://ableandthewolf.com/static/media/feed.xml","now i feel it":"https://music.behindthesch3m3s.com/wp-content/uploads/c_kostra/now i feel it.xml","they ride":"https://wavlake.com/feed/music/997060e3-9dc1-4cd8-b3c1-3ae06d54bb03",more:"https://wavlake.com/feed/music/b54b9a19-b6ed-46c1-806c-7e82f7550edc",opus:"https://www.doerfelverse.com/artists/opus/opus/opus.xml","bloodshot-lies---the-album":"https://www.doerfelverse.com/feeds/bloodshot-lies-album.xml","dead-timelive-2016":"https://www.doerfelverse.com/feeds/dead-time-live-2016.xml","dfb-volume-1":"https://www.doerfelverse.com/feeds/dfbv1.xml","dfb-volume-2":"https://www.doerfelverse.com/feeds/dfbv2.xml","let-go-whats-holding-you-back":"https://www.doerfelverse.com/feeds/middle-season-let-go.xml","unsound-existence-self-hosted-version":"https://www.doerfelverse.com/feeds/unsound-existence.xml","you-feel-like-homesingle":"https://www.doerfelverse.com/feeds/you-feel-like-home.xml",kurtisdrums:"https://www.sirtjthewrathful.com/wp-content/uploads/2023/08/Kurtisdrums-V1.xml",deathdreams:"https://static.staticsave.com/mspfiles/deathdreams.xml","way-to-go":"https://static.staticsave.com/mspfiles/waytogo.xml",pilot:"https://music.behindthesch3m3s.com/wp-content/uploads/Mellow%20Cassette/Pilot/pilot.xml","radio-brigade":"https://music.behindthesch3m3s.com/wp-content/uploads/Mellow%20Cassette/Radio_Brigade/radio_brigade.xml",singles:"https://wavlake.com/feed/music/e678589b-5a9f-4918-9622-34119d2eed2c","bowl-of-oranges-a-bright-eyes-cover":"https://wavlake.com/feed/music/3a152941-c914-43da-aeca-5d7c58892a7f","goodbye-uncle-walt":"https://wavlake.com/feed/music/a97e0586-ecda-4b79-9c38-be9a9effe05a",fight:"https://wavlake.com/feed/music/0ed13237-aca9-446f-9a03-de1a2d9331a3","safe-some-place":"https://wavlake.com/feed/music/ce8c4910-51bf-4d5e-a0b3-338e58e5ee79","you-should-waste-it":"https://wavlake.com/feed/music/acb43f23-cfec-4cc1-a418-4087a5378129","the-kid-the-dad-the-mom--the-tiny-window":"https://wavlake.com/feed/music/d1a871a7-7e4c-4a91-b799-87dcbb6bc41d",kids:"https://wavlake.com/feed/music/3294d8b5-f9f6-4241-a298-f04df818390c","dont-worry-you-still-have-time-to-ruin-it---demo":"https://wavlake.com/feed/music/d3145292-bf71-415f-a841-7f5c9a9466e1",rose:"https://wavlake.com/feed/music/91367816-33e6-4b6e-8eb7-44b2832708fd","fake-love---demo":"https://wavlake.com/feed/music/8c8f8133-7ef1-4b72-a641-4e1a6a44d626","roommates---demo":"https://wavlake.com/feed/music/9720d58b-22a5-4047-81de-f1940fec41c7","orange-pill-pink-pill-white-pill---demo":"https://wavlake.com/feed/music/21536269-5192-49e7-a819-fab00f4a159e","tyson-vs-paul":"https://wavlake.com/feed/music/624b19ac-5d8b-4fd6-8589-0eef7bcb9c9e","crocodile-tears":"https://wavlake.com/feed/music/1c7917cc-357c-4eaf-ab54-1a7cda504976","letters-of-regret":"https://wavlake.com/feed/music/e1f9dfcb-ee9b-4a6d-aee7-189043917fb5",hero:"https://wavlake.com/feed/music/d4f791c3-4d0c-4fbd-a543-c136ee78a9de","bound-for-lonesome":"https://wavlake.com/feed/music/51606506-66f8-4394-b6c6-cc0c1b554375","the-first-five-years":"https://wavlake.com/feed/music/6b7793b8-fd9d-432b-af1a-184cd41aaf9d","daddy-gene":"https://wavlake.com/feed/music/0bb8c9c7-1c55-4412-a517-572a98318921","love-strong":"https://wavlake.com/feed/music/16e46ed0-b392-4419-a937-a7815f6ca43b","high-gravity":"https://wavlake.com/feed/music/2cd1b9ea-9ef3-4a54-aa25-55295689f442","small-world":"https://wavlake.com/feed/music/33eeda7e-8591-4ff5-83f8-f36a879b0a09","strangers-to-lovers---live-from-sloe-flower-studio":"https://wavlake.com/feed/music/32a79df8-ec3e-4a14-bfcb-7a074e1974b9","cant-promise-you-the-world---live-from-sloe-flower-studio":"https://wavlake.com/feed/music/06376ab5-efca-459c-9801-49ceba5fdab1",iroh:"https://wavlake.com/feed/artist/8a9c2e54-785a-4128-9412-737610f5d00a","i guess this will have to do":"https://music.behindthesch3m3s.com/wp-content/uploads/Death_by_Lions/i_guess_this_will_have_to_do.xml","i-guess-this-will-have-to-do":"https://music.behindthesch3m3s.com/wp-content/uploads/Death_by_Lions/i_guess_this_will_have_to_do.xml"}[l];console.log('\uD83D\uDD0D Album lookup: "'.concat(e,'" → "').concat(o,'" → "').concat(l,'"')),console.log("\uD83D\uDCCB Specific feed found:",a);let s=await fetch("/api/albums");if(!s.ok)throw Error("Failed to fetch albums: ".concat(s.status," ").concat(s.statusText));let r=(await s.json()).albums||[];console.log("�� Found ".concat(r.length," albums in pre-parsed data")),console.log('\uD83D\uDD0D Looking for: "'.concat(e,'"')),r.forEach((e,t)=>{console.log("\uD83D\uDCCB Album ".concat(t+1,': "').concat(e.title,'" by ').concat(e.artist))});let c=r.find(e=>e.title.toLowerCase().includes("generation"));c?console.log('✅ Found Generation Gap-like album: "'.concat(c.title,'"')):console.log("❌ No Generation Gap found in results");let i=r.find(o=>{let l=o.title.toLowerCase(),a=e.toLowerCase();if(o.title===e||o.title===t)return console.log('✅ Exact match found: "'.concat(o.title,'"')),!0;if(l===a)return console.log('✅ Case-insensitive exact match found: "'.concat(o.title,'"')),!0;let s=l.replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim(),r=a.replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim();if(s===r)return console.log('✅ Normalized exact match found: "'.concat(o.title,'"')),!0;let c=a.replace(/-/g," ");if(l===c)return console.log('✅ Slug-based exact match found: "'.concat(o.title,'"')),!0;let i=e=>e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-"),n=i(o.title),d=i(a);if(n===d)return console.log('✅ Reverse slug match found: "'.concat(o.title,'" (slug: ').concat(n,")")),!0;let m={"stay awhile":"Stay Awhile","all in a day":"All in a Day","bloodshot lies":"Bloodshot Lies","bloodshot lies album":"Bloodshot Lies - The Album","into the doerfel verse":"Into The Doerfel-Verse","into the doerfel-verse":"Into The Doerfel-Verse","into-the-doerfel-verse":"Into The Doerfel-Verse","into the doerfelverse":"Into The Doerfel-Verse","i guess this will have to do":"I Guess This Will Have To Do","i-guess-this-will-have-to-do":"I Guess This Will Have To Do"};return m[a]&&o.title===m[a]?(console.log('✅ Special case match found: "'.concat(o.title,'"')),!0):!!l.includes(a)&&a.length>5&&(console.warn('⚠️ Using fuzzy match - might be incorrect: "'.concat(o.title,'" contains "').concat(e,'"')),!0)});if(i){let e={...i};if("they ride"===i.title.toLowerCase()&&"iroh"===i.artist.toLowerCase()){console.log('\uD83C\uDFB5 Applying custom track order for "They Ride" concept album');let t=["-","Heaven Knows","....","The Fever",".","In Exile","-.--","The Seed Man",".-.","Renfield","..","They Ride","-..","Pedal Down ( feat. Rob Montgomery )",". ( The Last Transmission? )"];e.tracks=i.tracks.sort((e,o)=>{let l=e.title.toLowerCase().trim(),a=o.title.toLowerCase().trim(),s=t.findIndex(e=>{let t=e.toLowerCase().trim();return l===t||l.includes(t)||t.includes(l)||l.replace(/[^a-z0-9]/g,"")===t.replace(/[^a-z0-9]/g,"")}),r=t.findIndex(e=>{let t=e.toLowerCase().trim();return a===t||a.includes(t)||t.includes(a)||a.replace(/[^a-z0-9]/g,"")===t.replace(/[^a-z0-9]/g,"")});return(console.log('\uD83D\uDD0D Track sorting: "'.concat(e.title,'" -> index ').concat(s,', "').concat(o.title,'" -> index ').concat(r)),-1!==s&&-1!==r)?s-r:-1!==s?-1:+(-1!==r)}),console.log('✅ Track order corrected for "They Ride"')}console.log("\uD83D\uDCCA Album loaded:",e.title),console.log("\uD83C\uDFB5 Track count:",e.tracks.length),console.log("\uD83D\uDDBC️ Tracks with images:",e.tracks.filter(e=>e.image).length),e.tracks.forEach((e,t)=>{e.image&&console.log("  Track ".concat(t+1,': "').concat(e.title,'" - Image: ').concat(e.image))}),w(e),i.podroll&&i.podroll.length>0&&Z(i.podroll),i.publisher&&i.publisher.feedUrl&&J(i.publisher.feedUrl)}else b("Album not found")}catch(e){console.error("Error loading album:",e),b("Error loading album data")}finally{p(!1)}})()},[t,o]);let Z=async e=>{try{let t=await fetch("/api/albums");if(!t.ok)throw Error("Failed to fetch albums: ".concat(t.status," ").concat(t.statusText));let o=(await t.json()).albums||[],l=e.map(e=>e.url),a=o.filter(e=>l.some(t=>e.feedUrl===t));k(a)}catch(e){console.error("Error loading PodRoll albums:",e)}},J=async e=>{try{console.log("\uD83C\uDFE2 Loading albums from publisher feed: ".concat(e));let t=await fetch("/api/albums");if(!t.ok)throw Error("Failed to fetch albums: ".concat(t.status," ").concat(t.statusText));let o=((await t.json()).albums||[]).filter(t=>t.publisher&&t.publisher.feedUrl===e);k(e=>{let t=[...e],l=new Set(e.map(e=>"".concat(e.title.toLowerCase(),"|").concat(e.artist.toLowerCase())));return o.forEach(e=>{let o="".concat(e.title.toLowerCase(),"|").concat(e.artist.toLowerCase());l.has(o)||(t.push(e),l.add(o))}),console.log("\uD83C\uDFB6 Added ".concat(o.length," albums from publisher, total recommendations: ").concat(t.length)),t})}catch(e){console.error("Error loading Publisher albums:",e)}};return g?(0,l.jsx)("div",{className:"min-h-screen text-white",style:H&&S?X:{background:"linear-gradient(to bottom right, rgb(17, 24, 39), rgb(31, 41, 55), rgb(17, 24, 39))"},children:(0,l.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Loading Album..."}),H&&S&&(0,l.jsx)("p",{className:"text-gray-400 mt-2",children:"Background loaded, content loading..."})]})})}):v||!s?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white",children:(0,l.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Album not found"===v?"Album Not Available":v||"Album Not Found"}),(0,l.jsx)("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Album not found"===v?"This album may not be available in our current collection or may have been temporarily removed.":"We couldn't load this album. Please check the URL or try again later."}),(0,l.jsx)(r(),{href:"/",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"← Back to Albums"})]})})}):(0,l.jsx)("div",{className:"min-h-screen text-white relative",style:X,children:(0,l.jsxs)("div",{className:"container mx-auto px-6 py-8 pb-40",children:[(0,l.jsxs)(r(),{href:"/",className:"inline-flex items-center text-gray-400 hover:text-white mb-8 transition-colors",children:[(0,l.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Back to Albums"]}),(0,l.jsxs)("div",{className:"flex flex-col gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"relative group mx-auto w-[280px] h-[280px]",children:[(0,l.jsx)(c.default,{src:(0,m.rE)((null==s?void 0:s.coverArt)||"","large"),alt:s.title,width:280,height:280,className:"rounded-lg object-cover shadow-2xl transition-opacity duration-500 w-full h-full ".concat(F?"opacity-100":"opacity-0"),style:{objectFit:"cover"},priority:!0,onLoad:()=>M(!0),onError:e=>{e.target.src=(0,m.ex)("large"),M(!0)}}),!F&&(0,l.jsx)("div",{className:"absolute inset-0 w-full h-full bg-gray-800 animate-pulse rounded-lg flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("button",{onClick:A&&(null==j?void 0:j.title)===(null==s?void 0:s.title)?W:O,className:"bg-white/95 hover:bg-white active:bg-white text-black rounded-full p-4 transform hover:scale-110 active:scale-95 transition-all duration-200 shadow-2xl border-2 border-white/30 z-10 touch-manipulation",style:{minWidth:"64px",minHeight:"64px"},children:A&&(null==j?void 0:j.title)===(null==s?void 0:s.title)?(0,l.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,l.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 5v14l11-7z"})})})})]}),(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-bold leading-tight",children:s.title}),(0,l.jsx)("p",{className:"text-xl text-gray-300",children:s.artist}),s.subtitle&&(0,l.jsx)("p",{className:"text-lg text-gray-300 italic",children:s.subtitle}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400",children:[(0,l.jsx)("span",{children:new Date(s.releaseDate).getFullYear()}),(0,l.jsxs)("span",{children:[s.tracks.length," tracks"]}),s.explicit&&(0,l.jsx)("span",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs",children:"EXPLICIT"})]}),(s.summary||s.description)&&(0,l.jsx)("p",{className:"text-gray-300 text-center max-w-lg mx-auto leading-relaxed",children:s.summary||s.description}),s.publisher&&(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[(0,l.jsx)("span",{children:"More from this artist:"}),(0,l.jsx)(r(),{href:"/publisher/".concat((0,u.ZU)({feedGuid:s.publisher.feedGuid})),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"View Discography"}),(0,l.jsx)("span",{className:"text-xs bg-gray-600 px-2 py-1 rounded",children:"PC 2.0"})]}),s.funding&&s.funding.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3 text-white text-center",children:"Support This Artist"}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-3",children:s.funding.map((e,t)=>(0,l.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-all transform hover:scale-105 flex items-center gap-2",children:["\uD83D\uDC9D ",e.message||"Support"]},t))})]})]})]}),(0,l.jsxs)("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-4 md:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-center sm:text-left",children:"Tracks"}),(0,l.jsx)(f.A,{activeFilter:"all",onFilterChange:()=>{},showFilters:!1,sortType:"name",onSortChange:()=>{},viewType:"list",onViewChange:()=>{},showViewToggle:!1,onShuffle:E,showShuffle:!0,resultCount:s.tracks.length,resultLabel:"tracks",className:"flex-shrink-0"})]}),(0,l.jsx)("div",{className:"space-y-2",children:s.tracks.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-white/10 rounded-lg transition-colors group cursor-pointer ".concat(N===t&&(null==j?void 0:j.title)===(null==s?void 0:s.title)?"bg-white/20":""),onClick:()=>K(t),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,l.jsxs)("div",{className:"relative w-10 h-10 md:w-12 md:h-12 flex-shrink-0 overflow-hidden rounded",children:[(0,l.jsx)(c.default,{src:(0,m.rE)((null==s?void 0:s.coverArt)||"","thumbnail"),alt:s.title,width:48,height:48,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},onError:e=>{var t;let o=e.target;o.style.display="none",null==(t=o.nextElementSibling)||t.classList.remove("hidden")}}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-200",children:(0,l.jsx)("button",{className:"bg-white text-black rounded-full p-1 transform hover:scale-110 transition-all duration-200 shadow-lg",onClick:e=>{e.stopPropagation(),K(t)},children:N===t&&A&&(null==j?void 0:j.title)===(null==s?void 0:s.title)?(0,l.jsx)(n.A,{className:"h-3 w-3"}):(0,l.jsx)(d.A,{className:"h-3 w-3"})})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center hidden",children:(0,l.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:e.trackNumber||t+1})})]}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("p",{className:"font-medium truncate text-sm md:text-base",children:e.title}),e.subtitle&&(0,l.jsx)("p",{className:"text-xs md:text-sm text-gray-400 italic truncate",children:e.subtitle}),(0,l.jsx)("p",{className:"text-xs md:text-sm text-gray-400 truncate",children:null==s?void 0:s.artist})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 md:gap-4 flex-shrink-0",children:[e.explicit&&(0,l.jsx)("span",{className:"bg-red-600 text-white px-1 py-0.5 rounded text-xs font-bold",children:"E"}),(0,l.jsx)("span",{className:"text-xs md:text-sm text-gray-400",children:(e=>{if(!e)return"0:00";if(e.includes(":"))return e;let t=parseInt(e);if(!isNaN(t)){let e=Math.floor(t/60);return"".concat(e,":").concat((t%60).toString().padStart(2,"0"))}return e})(e.duration)})]})]},t))})]}),x.length>0&&(0,l.jsxs)("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-6 mt-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"You Might Also Like"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:x.map((e,t)=>(0,l.jsx)(r(),{href:(0,u.Ac)(e.title),className:"group block",children:(0,l.jsxs)("div",{className:"bg-white/5 hover:bg-white/10 rounded-lg p-3 transition-all duration-200 hover:scale-105",children:[(0,l.jsxs)("div",{className:"aspect-square relative mb-3",children:[(0,l.jsx)(c.default,{src:(0,m.rE)(e.coverArt||"","thumbnail"),alt:e.title,width:150,height:150,className:"w-full h-full object-cover rounded-md",onError:e=>{e.target.src=(0,m.ex)("thumbnail")}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 rounded-md transition-all duration-200 flex items-center justify-center",children:(0,l.jsx)(d.A,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})})]}),(0,l.jsx)("h3",{className:"font-semibold text-white text-sm mb-1 overflow-hidden text-ellipsis",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:e.artist})]})},t))})]})]})})}},545:(e,t,o)=>{Promise.resolve().then(o.bind(o,355))},2178:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});let l=(0,o(2895).A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},5169:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});let l=(0,o(2895).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[9910,6874,6766,8984,7893,8441,5964,7358],()=>e(e.s=545)),_N_E=e.O()}]);