(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{1404:(e,t,r)=>{"use strict";r.d(t,{uV:()=>o,tG:()=>s,vf:()=>c,u1:()=>l,bD:()=>d});class n{setContext(e){this.context={...this.context,...e}}formatMessage(e,t,r){let n=new Date().toISOString(),a={...this.context,...r},s=Object.keys(a).length>0?" [".concat(Object.entries(a).map(e=>{let[t,r]=e;return"".concat(t,"=").concat(r)}).join(", "),"]"):"";return"[".concat(n,"] [").concat(e,"]").concat(s," ").concat(t)}debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.level<=0&&console.log(this.formatMessage("DEBUG",e),...r)}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.level<=1&&console.log(this.formatMessage("INFO",e),...r)}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.level<=2&&console.warn(this.formatMessage("WARN",e),...r)}error(e,t,r){if(this.level<=3){let n=t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t;console.error(this.formatMessage("ERROR",e,r),n)}}time(e){this.level<=0&&console.time("[PERF] ".concat(e))}timeEnd(e){this.level<=0&&console.timeEnd("[PERF] ".concat(e))}component(e){var t=this;return{debug:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.debug(r,...a,{component:e})},info:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.info(r,...a,{component:e})},warn:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.warn(r,...a,{component:e})},error:(t,r)=>this.error(t,r,{component:e})}}function(e){var t=this;return{debug:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.debug(r,...a,{function:e})},info:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.info(r,...a,{function:e})},warn:function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.warn(r,...a,{function:e})},error:(t,r)=>this.error(t,r,{function:e})}}constructor(e=1){this.context={},this.level=e}}let a=new n,s={NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",RSS_PARSE_ERROR:"RSS_PARSE_ERROR",RSS_FETCH_ERROR:"RSS_FETCH_ERROR",RSS_INVALID_FORMAT:"RSS_INVALID_FORMAT",AUDIO_PLAYBACK_ERROR:"AUDIO_PLAYBACK_ERROR",AUDIO_LOAD_ERROR:"AUDIO_LOAD_ERROR",AUDIO_NOT_FOUND:"AUDIO_NOT_FOUND",ALBUM_NOT_FOUND:"ALBUM_NOT_FOUND",ALBUM_LOAD_ERROR:"ALBUM_LOAD_ERROR",IMAGE_LOAD_ERROR:"IMAGE_LOAD_ERROR",IMAGE_TIMEOUT_ERROR:"IMAGE_TIMEOUT_ERROR",IMAGE_CORS_ERROR:"IMAGE_CORS_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"};class o extends Error{constructor(e,t="UNKNOWN_ERROR",r=500,n=!0,a,s){super(e),this.message=e,this.code=t,this.statusCode=r,this.isOperational=n,this.details=a,this.context=s,this.name="AppError",Error.captureStackTrace(this,this.constructor)}}let i={NETWORK_ERROR:"Network connection failed. Please check your internet connection.",TIMEOUT_ERROR:"Request timed out. Please try again.",RATE_LIMIT_ERROR:"Too many requests. Please wait a moment and try again.",IMAGE_CORS_ERROR:"Image loading blocked by browser security.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again."};function l(e){return e instanceof o?e.message:e instanceof Error?e.message.includes("fetch")?i.NETWORK_ERROR:e.message.includes("timeout")?i.TIMEOUT_ERROR:e.message.includes("429")||e.message.includes("rate limit")?i.RATE_LIMIT_ERROR:e.message.includes("CORS")||e.message.includes("cross-origin")?i.IMAGE_CORS_ERROR:e.message:i.UNKNOWN_ERROR}function c(e){return{error:(t,r,n)=>{new Date().toISOString(),r instanceof Error&&(r.name,r.message,r.stack),a.error("[".concat(e,"] ").concat(t),r,{context:e})},warn:(t,r)=>{let n=new Date().toISOString();a.warn("[".concat(e,"] ").concat(t),{timestamp:n,details:r})},info:(t,r)=>{let n=new Date().toISOString();a.info("[".concat(e,"] ").concat(t),{timestamp:n,details:r})}}}async function d(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxRetries:n=3,delay:i=1e3,backoff:l=2,onRetry:c,context:d="withRetry"}=r;for(let r=1;r<=n;r++)try{return await e()}catch(u){if(t=u,r===n)throw a.error("[".concat(d,"] Final retry attempt failed"),u,{context:d,attempt:r,maxRetries:n}),u;if(!function(e){return e instanceof o?[s.NETWORK_ERROR,s.TIMEOUT_ERROR,s.RATE_LIMIT_ERROR,s.RSS_FETCH_ERROR,s.AUDIO_LOAD_ERROR,s.IMAGE_LOAD_ERROR,s.IMAGE_TIMEOUT_ERROR].includes(e.code):e instanceof Error&&["network","timeout","fetch","429","rate limit","temporary","retry"].some(t=>e.message.toLowerCase().includes(t))}(u))throw a.warn("[".concat(d,"] Non-retryable error, not retrying"),{context:d,attempt:r,error:u instanceof Error?u.message:u}),u;let e=i*Math.pow(l,r-1);a.warn("[".concat(d,"] Attempt ").concat(r," failed, retrying in ").concat(e,"ms"),{context:d,attempt:r,maxRetries:n,waitTime:e,error:u instanceof Error?u.message:u}),c&&c(r,u),await new Promise(t=>setTimeout(t,e))}throw t}},2415:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155),a=r(2115),s=r(6874),o=r.n(s),i=r(8959),l=r(5001);let c=e=>{let t,{track:r,isPlaying:s,currentTime:c,volume:d,onPlayPause:u,onPrevious:h,onNext:g,onSeek:m,onVolumeChange:f,onClose:p}=e,[x,R]=(0,a.useState)(null),v=e=>{if(!e||isNaN(e))return"0:00";let t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%60);return t>0?"".concat(t,":").concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):"".concat(r,":").concat(n.toString().padStart(2,"0"))};return(0,n.jsxs)("div",{className:"container mx-auto flex items-center gap-4",children:[(0,n.jsxs)(o(),{href:(t=r.albumTitle,"/album/".concat(encodeURIComponent(t))),className:"flex items-center gap-3 min-w-0 flex-1 hover:bg-gray-700 rounded-lg p-2 -m-2 transition-colors cursor-pointer",children:[(0,n.jsx)(i.A,{src:r.albumArt||"",alt:r.title,width:48,height:48,className:"rounded-lg object-cover w-12 h-12 flex-shrink-0",fallbackSrc:(0,l.ex)("thumbnail")}),(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("p",{className:"font-bold truncate text-white",children:r.title}),(0,n.jsx)("p",{className:"text-sm text-gray-400 truncate",children:r.artist})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-3 flex-1",children:[(0,n.jsx)("button",{onClick:h,className:"bg-gray-600 hover:bg-gray-500 text-white rounded-full p-2 transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,n.jsx)("button",{onClick:u,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-full p-3 transition-all",style:{width:"48px",height:"48px"},children:s?(0,n.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,n.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,n.jsx)("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-500 text-white rounded-full p-2 transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3 flex-1 max-w-md",children:[(0,n.jsx)("span",{className:"text-xs text-white w-12 text-right",children:v(c)}),(0,n.jsxs)("div",{className:"flex-1 h-2 bg-gray-600 rounded-full cursor-pointer relative group",onClick:e=>{let t=e.currentTarget.getBoundingClientRect();m((e.clientX-t.left)/t.width*r.duration)},onMouseMove:e=>{let t=e.currentTarget.getBoundingClientRect();R(Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)))},onMouseLeave:()=>{R(null)},children:[(0,n.jsx)("div",{className:"h-full bg-orange-500 rounded-full transition-all duration-100",style:{width:"".concat(r.duration?c/r.duration*100:0,"%")}}),null!==x&&(0,n.jsx)("div",{className:"absolute top-0 left-0 h-full bg-orange-400/60 rounded-full pointer-events-none transition-all duration-75",style:{width:"".concat(100*x,"%")}}),null!==x&&(0,n.jsx)("div",{className:"absolute -top-8 bg-gray-900 text-white text-xs px-2 py-1 rounded pointer-events-none",style:{left:"".concat(100*x,"%"),transform:"translateX(-50%)",minWidth:"max-content"},children:v(x*r.duration)})]}),(0,n.jsx)("span",{className:"text-xs text-white w-12 text-left",children:v(r.duration)})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),(0,n.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d,onChange:e=>f(parseFloat(e.target.value)),className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, white 0%, white ".concat(100*d,"%, #4b5563 ").concat(100*d,"%, #4b5563 100%)")}})]}),(0,n.jsx)("button",{onClick:p,className:"text-white hover:text-gray-300 transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})};var d=r(8984);let u=()=>{var e,t,r,s;let{currentPlayingAlbum:o,isPlaying:i,currentTrackIndex:l,currentTime:u,duration:h,pause:g,resume:m,seek:f,playNextTrack:p,playPreviousTrack:x,stop:R}=(0,d.G)(),[v,w]=(0,a.useState)(.6);if(!o)return null;let E={title:(null==(t=o.tracks)||null==(e=t[l])?void 0:e.title)||"Track ".concat(l+1),artist:o.artist,albumTitle:o.title,duration:h||0,albumArt:(null==(s=o.tracks)||null==(r=s[l])?void 0:r.image)||o.coverArt||""};return(0,n.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"16px",paddingBottom:"calc(16px + env(safe-area-inset-bottom))",backgroundColor:"#1f2937",borderTop:"1px solid #f97316",zIndex:50},children:(0,n.jsx)(c,{track:E,isPlaying:i,currentTime:u,volume:v,onPlayPause:()=>{i?g():m()},onPrevious:x,onNext:p,onSeek:e=>{f(e)},onVolumeChange:e=>{w(e)},onClose:()=>{R()}})})}},3904:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(2895).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4821:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155),a=r(2115),s=r(8533),o=r(3904),i=r(8199),l=r(6874),c=r.n(l);let d=(0,r(1404).vf)("ErrorBoundary");class u extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){var r,n;d.error("React error boundary caught error",e,{componentStack:t.componentStack,digest:t.digest}),this.setState({errorInfo:t}),null==(r=(n=this.props).onError)||r.call(n,e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-gray-900 rounded-lg shadow-lg p-8 text-center",children:[(0,n.jsx)("div",{className:"flex justify-center mb-4",children:(0,n.jsx)(s.A,{className:"h-16 w-16 text-red-500"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Oops! Something went wrong"}),(0,n.jsx)("p",{className:"text-gray-400 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1,(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,n.jsxs)("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,n.jsx)(o.A,{className:"h-4 w-4"}),"Try Again"]}),(0,n.jsxs)(c(),{href:"/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[(0,n.jsx)(i.A,{className:"h-4 w-4"}),"Go Home"]})]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}}},5001:(e,t,r)=>{"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return e?(e.startsWith("http://")&&(e=e.replace("http://","https://")),e):a(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",{width:t,height:r}={thumbnail:{width:150,height:150},medium:{width:300,height:300},large:{width:600,height:600}}[e],n='\n    <svg width="'.concat(t,'" height="').concat(r,'" xmlns="http://www.w3.org/2000/svg">\n      <defs>\n        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">\n          <stop offset="0%" style="stop-color:#1f2937;stop-opacity:1" />\n          <stop offset="100%" style="stop-color:#374151;stop-opacity:1" />\n        </linearGradient>\n      </defs>\n      <rect width="100%" height="100%" fill="url(#grad)"/>\n      <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="').concat(.1*Math.min(t,r),'" \n            fill="#ffffff" text-anchor="middle" dy="0.35em">Music</text>\n    </svg>\n  ');return"data:image/svg+xml;base64,".concat(btoa(n))}r.d(t,{ex:()=>a,rE:()=>n})},5034:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9324,23)),Promise.resolve().then(r.bind(r,4821)),Promise.resolve().then(r.bind(r,2415)),Promise.resolve().then(r.bind(r,5369)),Promise.resolve().then(r.bind(r,4304)),Promise.resolve().then(r.bind(r,8984)),Promise.resolve().then(r.t.bind(r,5299,23))},5299:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},5369:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155),a=r(2115);function s(){let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)("");(0,a.useEffect)(()=>{if("serviceWorker"in navigator){let e="/sw.js?v=".concat(Date.now());navigator.serviceWorker.register(e,{scope:"/",updateViaCache:"none"}).then(e=>{console.log("✅ Service Worker registered successfully:",e),e.update();let t=setInterval(()=>{"visible"===document.visibilityState&&e.update()},3e4);return()=>clearInterval(t)}).catch(e=>{console.error("❌ Service Worker registration failed:",e)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("\uD83D\uDD04 Service Worker controller changed - reloading page"),window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{console.log("\uD83D\uDCE8 Message from Service Worker:",e.data),"SW_UPDATED"===e.data.type&&(s(e.data.version),t(!0),setTimeout(()=>{console.log("\uD83D\uDD04 Auto-reloading for update..."),window.location.reload()},3e3))}),window.addEventListener("error",e=>{e.message&&e.message.includes("Failed to fetch RSC payload")&&(console.warn("\uD83D\uDD04 RSC fetch failed, attempting to clear service worker cache..."),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{(e.includes("next-js-files")||e.includes("start-url"))&&caches.delete(e).then(()=>{console.log("\uD83D\uDDD1️ Cleared cache: ".concat(e))})})}))}),navigator.serviceWorker.ready.then(e=>{e.waiting&&console.log("\uD83D\uDD04 Update available on page load"),e.addEventListener("updatefound",()=>{let r=e.installing;r&&(console.log("\uD83D\uDD04 New service worker found"),r.addEventListener("statechange",()=>{"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("\uD83C\uDD95 New content available - update ready"),t(!0)):console.log("\uD83C\uDF89 App installed for offline use"))}))})})}},[]);let o=()=>{t(!1)};return e&&r?(0,n.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm bg-blue-600 text-white rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,n.jsxs)("div",{className:"ml-3 flex-1",children:[(0,n.jsx)("h3",{className:"text-sm font-medium",children:"App Updated!"}),(0,n.jsxs)("p",{className:"text-xs text-blue-100 mt-1",children:["Version ",r," is ready. Reload to get the latest features."]}),(0,n.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,n.jsx)("button",{onClick:()=>{e&&navigator.serviceWorker.getRegistration().then(e=>{e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})})},className:"bg-blue-500 hover:bg-blue-400 text-white text-xs px-3 py-1 rounded transition-colors",children:"Reload Now"}),(0,n.jsx)("button",{onClick:o,className:"bg-transparent hover:bg-blue-500 text-blue-200 hover:text-white text-xs px-3 py-1 rounded border border-blue-400 transition-colors",children:"Later"})]})]}),(0,n.jsx)("button",{onClick:o,className:"flex-shrink-0 ml-2 text-blue-200 hover:text-white",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}},8199:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(2895).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},8959:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5155),a=r(6766),s=r(2115);function o(e){let{src:t,alt:r,width:o,height:i,className:l,priority:c=!1,quality:d=85,onError:u,onLoad:h,fallbackSrc:g,sizes:m,placeholder:f="empty",...p}=e,[x,R]=(0,s.useState)(!0),[v,w]=(0,s.useState)(!1),[E,y]=(0,s.useState)(t),[O,b]=(0,s.useState)(0),[N,_]=(0,s.useState)(null),[j,A]=(0,s.useState)(!1),[S,I]=(0,s.useState)(!1),[k,M]=(0,s.useState)(!1),T=(0,s.useRef)(null),[C,L]=(0,s.useState)(!1),[D,U]=(0,s.useState)(!1),[W,P]=(0,s.useState)(!1),[z,F]=(0,s.useState)("");(0,s.useEffect)(()=>{A(t.toLowerCase().includes(".gif")||E.toLowerCase().includes(".gif"))},[t,E]),(0,s.useEffect)(()=>{P(!0);let e=()=>{let e=window.innerWidth,t=navigator.userAgent;L(e<=768),U(e>768&&e<=1024),F(t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{if(!j||!W||c)return void I(!0);let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(I(!0),e.disconnect())})},{rootMargin:"50px",threshold:.1});return T.current&&e.observe(T.current),()=>e.disconnect()},[j,W,c]);let B=(e,t,r)=>{if(e.includes("/api/optimized-images/"))return e;let n=["you-are-my-world.gif","HowBoutYou.gif","autumn.gif","WIldandfreecover-copy-2.png","alandace.gif","doerfel-verse-idea-9.png","SatoshiStreamer-track-1-album-art.png","dvep15-art.png","disco-swag.png","first-christmas-art.jpg","let-go-art.png"],a=e.split("/").pop();if(a&&n.some(e=>a.includes(e.replace(/\.(png|jpg|gif)$/,"")))){let e=n.find(e=>a.includes(e.replace(/\.(png|jpg|gif)$/,"")));if(e){let n="https://re.podtards.com/api/optimized-images/".concat(e);if(t||r){let e=new URLSearchParams;t&&e.set("w",t.toString()),r&&e.set("h",r.toString()),e.set("q",d.toString()),window.navigator.userAgent.includes("Chrome")&&!j&&e.set("f","webp"),n+="?".concat(e.toString())}return n}}return e},G=()=>{if(o&&i)return{width:o,height:i};if(j)if(C)return{width:200,height:200};else if(D)return{width:300,height:300};else return{width:400,height:400};return C?{width:300,height:300}:D?{width:400,height:400}:{width:500,height:500}},V=()=>{if(R(!1),N&&(clearTimeout(N),_(null)),0===O&&g&&g!==E){y(g),w(!1),R(!0),b(1),_(setTimeout(()=>{V()},j?8e3:1e4));return}if(0===O&&g===E){b(1),V();return}if(1===O&&!E.includes("/api/")){y("/api/proxy-image?url=".concat(encodeURIComponent(E))),w(!1),R(!0),b(2),_(setTimeout(()=>{V()},j?1e4:12e3));return}if(2===O&&E.includes("/api/optimized-images/")){let e=(e=>{if(e.includes("/api/optimized-images/")){var t;null==(t=e.split("/").pop())||t.split("?")[0]}return g||e})(E);if(e&&e!==E){y(e),w(!1),R(!0),b(3),_(setTimeout(()=>{V()},j?12e3:15e3));return}}w(!0),null==u||u()},K=()=>{R(!1),w(!1),M(!0),N&&(clearTimeout(N),_(null)),null==h||h()};(0,s.useEffect)(()=>{let e=G();return y(W&&C?!t||t.includes("re.podtards.com")||t.includes("/api/")?B(t,e.width,e.height):"/api/proxy-image?url=".concat(encodeURIComponent(t)):B(t,e.width,e.height)),R(!0),w(!1),b(0),M(!1),N&&(clearTimeout(N),_(null)),()=>{N&&clearTimeout(N)}},[t,o,i,W]),(0,s.useEffect)(()=>{C&&W&&x&&!N&&_(setTimeout(()=>{V()},j?12e3:15e3))},[W,x,N,j]);let H=G();return(0,n.jsxs)("div",{className:"relative ".concat(l||""),ref:T,children:[x&&(0,n.jsxs)("div",{className:"absolute inset-0 bg-gray-800/50 animate-pulse rounded flex items-center justify-center",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full animate-spin"}),j&&(0,n.jsx)("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-xs px-1 py-0.5 rounded",children:"\uD83C\uDFAC GIF"})]}),v&&(0,n.jsx)("div",{className:"absolute inset-0 bg-gray-800/50 rounded flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-white/60 text-sm",children:"Image unavailable"})}),W&&C?(0,n.jsx)("img",{src:S?E:"",alt:r,width:H.width,height:H.height,className:"".concat(x?"opacity-0":"opacity-100"," transition-opacity duration-300 ").concat(l||""),onError:e=>{V()},onLoad:e=>{K()},loading:c?"eager":"lazy",referrerPolicy:"no-referrer",crossOrigin:"anonymous",style:{objectFit:"cover",width:"100%",height:"100%",display:"block"},...p}):(0,n.jsx)(a.default,{src:S?E:"",alt:r,width:H.width,height:H.height,className:"".concat(x?"opacity-0":"opacity-100"," transition-opacity duration-300"),priority:c,quality:d,sizes:(()=>{if(m)return m;if(j)if(C)return"(max-width: 768px) 200px, (max-width: 1024px) 300px, 400px";else if(D)return"(max-width: 1024px) 300px, 400px";else return"(max-width: 768px) 200px, (max-width: 1024px) 300px, 400px";return C?"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw":D?"(max-width: 1024px) 50vw, 33vw":"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"})(),onError:V,onLoad:K,placeholder:f,unoptimized:E.includes("/api/optimized-images/"),...p}),!1]})}},9324:()=>{}},e=>{e.O(0,[2618,9910,6874,6766,8984,8441,5964,7358],()=>e(e.s=5034)),_N_E=e.O()}]);