exports.id=8865,exports.ids=[8865],exports.modules={382:(a,b,c)=>{"use strict";c.d(b,{ToastContainer:()=>n,o:()=>o});var d=c(60687),e=c(43210),f=c(23689),g=c(63851),h=c(19947),i=c(96882),j=c(11860);let k={success:f.A,error:g.A,warning:h.A,info:i.A},l={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"};function m({toast:a,onDismiss:b}){let c=k[a.type];return(0,d.jsxs)("div",{className:"flex items-center gap-3 bg-gray-900 text-white p-4 rounded-lg shadow-lg min-w-[300px] max-w-md",children:[(0,d.jsx)("div",{className:`p-1 rounded ${l[a.type]}`,children:(0,d.jsx)(c,{className:"h-5 w-5"})}),(0,d.jsx)("p",{className:"flex-1 text-sm",children:a.message}),(0,d.jsx)("button",{onClick:()=>b(a.id),className:"text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(j.A,{className:"h-4 w-4"})})]})}function n(){let[a,b]=(0,e.useState)([]),c=a=>{b(b=>b.filter(b=>b.id!==a))};return 0===a.length?null:(0,d.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:a.map(a=>(0,d.jsx)(m,{toast:a,onDismiss:c},a.id))})}let o={show:(a,b,c=5e3)=>{let d=new CustomEvent("toast",{detail:{id:Math.random().toString(36).substr(2,9),type:a,message:b,duration:c}});window.dispatchEvent(d)},success:(a,b)=>{o.show("success",a,b)},error:(a,b)=>{o.show("error",a,b)},warning:(a,b)=>{o.show("warning",a,b)},info:(a,b)=>{o.show("info",a,b)}}},2586:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j});var d=c(60687);c(43210);var e=c(63851),f=c(78122),g=c(37897),h=c(85814),i=c.n(h);function j({error:a,reset:b}){return(0,d.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-gray-900 rounded-lg shadow-lg p-8 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(e.A,{className:"h-16 w-16 text-red-500"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Oops! Something went wrong"}),(0,d.jsx)("p",{className:"text-gray-400 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1,(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,d.jsxs)("button",{onClick:b,className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,d.jsx)(f.A,{className:"h-4 w-4"}),"Try Again"]}),(0,d.jsxs)(i(),{href:"/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),"Go Home"]})]})]})})}},4842:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},8199:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/chad-mini/Vibe/apps/FUCKIT/components/GlobalNowPlayingBar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/components/GlobalNowPlayingBar.tsx","default")},13183:(a,b,c)=>{Promise.resolve().then(c.bind(c,2586))},21246:(a,b,c)=>{"use strict";c.d(b,{AudioProvider:()=>e});var d=c(61369);(0,d.registerClientReference)(function(){throw Error("Attempted to call useAudio() from the server but useAudio is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/contexts/AudioContext.tsx","useAudio");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AudioProvider() from the server but AudioProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/contexts/AudioContext.tsx","AudioProvider")},27024:(a,b,c)=>{"use strict";c.d(b,{ToastContainer:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ToastContainer() from the server but ToastContainer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/components/Toast.tsx","ToastContainer");(0,d.registerClientReference)(function(){throw Error("Attempted to call toast() from the server but toast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/components/Toast.tsx","toast")},29928:(a,b,c)=>{"use strict";c.d(b,{uV:()=>g,tG:()=>f,vf:()=>j,u1:()=>i,bD:()=>k});class d{constructor(a=1){this.context={},this.level=a}setContext(a){this.context={...this.context,...a}}formatMessage(a,b,c){let d=new Date().toISOString(),e={...this.context,...c},f=Object.keys(e).length>0?` [${Object.entries(e).map(([a,b])=>`${a}=${b}`).join(", ")}]`:"";return`[${d}] [${a}]${f} ${b}`}debug(a,...b){this.level<=0&&console.log(this.formatMessage("DEBUG",a),...b)}info(a,...b){this.level<=1&&console.log(this.formatMessage("INFO",a),...b)}warn(a,...b){this.level<=2&&console.warn(this.formatMessage("WARN",a),...b)}error(a,b,c){if(this.level<=3){let d=b instanceof Error?{name:b.name,message:b.message,stack:b.stack}:b;console.error(this.formatMessage("ERROR",a,c),d)}}time(a){this.level<=0&&console.time(`[PERF] ${a}`)}timeEnd(a){this.level<=0&&console.timeEnd(`[PERF] ${a}`)}component(a){return{debug:(b,...c)=>this.debug(b,...c,{component:a}),info:(b,...c)=>this.info(b,...c,{component:a}),warn:(b,...c)=>this.warn(b,...c,{component:a}),error:(b,c)=>this.error(b,c,{component:a})}}function(a){return{debug:(b,...c)=>this.debug(b,...c,{function:a}),info:(b,...c)=>this.info(b,...c,{function:a}),warn:(b,...c)=>this.warn(b,...c,{function:a}),error:(b,c)=>this.error(b,c,{function:a})}}}let e=new d,f={NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",RSS_PARSE_ERROR:"RSS_PARSE_ERROR",RSS_FETCH_ERROR:"RSS_FETCH_ERROR",RSS_INVALID_FORMAT:"RSS_INVALID_FORMAT",AUDIO_PLAYBACK_ERROR:"AUDIO_PLAYBACK_ERROR",AUDIO_LOAD_ERROR:"AUDIO_LOAD_ERROR",AUDIO_NOT_FOUND:"AUDIO_NOT_FOUND",ALBUM_NOT_FOUND:"ALBUM_NOT_FOUND",ALBUM_LOAD_ERROR:"ALBUM_LOAD_ERROR",IMAGE_LOAD_ERROR:"IMAGE_LOAD_ERROR",IMAGE_TIMEOUT_ERROR:"IMAGE_TIMEOUT_ERROR",IMAGE_CORS_ERROR:"IMAGE_CORS_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"};class g extends Error{constructor(a,b="UNKNOWN_ERROR",c=500,d=!0,e,f){super(a),this.message=a,this.code=b,this.statusCode=c,this.isOperational=d,this.details=e,this.context=f,this.name="AppError",Error.captureStackTrace(this,this.constructor)}}let h={NETWORK_ERROR:"Network connection failed. Please check your internet connection.",TIMEOUT_ERROR:"Request timed out. Please try again.",RATE_LIMIT_ERROR:"Too many requests. Please wait a moment and try again.",IMAGE_CORS_ERROR:"Image loading blocked by browser security.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again."};function i(a){return a instanceof g?a.message:a instanceof Error?a.message.includes("fetch")?h.NETWORK_ERROR:a.message.includes("timeout")?h.TIMEOUT_ERROR:a.message.includes("429")||a.message.includes("rate limit")?h.RATE_LIMIT_ERROR:a.message.includes("CORS")||a.message.includes("cross-origin")?h.IMAGE_CORS_ERROR:a.message:h.UNKNOWN_ERROR}function j(a){return{error:(b,c,d)=>{new Date().toISOString(),c instanceof Error&&(c.name,c.message,c.stack),e.error(`[${a}] ${b}`,c,{context:a})},warn:(b,c)=>{let d=new Date().toISOString();e.warn(`[${a}] ${b}`,{timestamp:d,details:c})},info:(b,c)=>{let d=new Date().toISOString();e.info(`[${a}] ${b}`,{timestamp:d,details:c})}}}async function k(a,b={}){let c,{maxRetries:d=3,delay:h=1e3,backoff:i=2,onRetry:j,context:l="withRetry"}=b;for(let b=1;b<=d;b++)try{return await a()}catch(k){if(c=k,b===d)throw e.error(`[${l}] Final retry attempt failed`,k,{context:l,attempt:b,maxRetries:d}),k;if(!function(a){return a instanceof g?[f.NETWORK_ERROR,f.TIMEOUT_ERROR,f.RATE_LIMIT_ERROR,f.RSS_FETCH_ERROR,f.AUDIO_LOAD_ERROR,f.IMAGE_LOAD_ERROR,f.IMAGE_TIMEOUT_ERROR].includes(a.code):a instanceof Error&&["network","timeout","fetch","429","rate limit","temporary","retry"].some(b=>a.message.toLowerCase().includes(b))}(k))throw e.warn(`[${l}] Non-retryable error, not retrying`,{context:l,attempt:b,error:k instanceof Error?k.message:k}),k;let a=h*Math.pow(i,b-1);e.warn(`[${l}] Attempt ${b} failed, retrying in ${a}ms`,{context:l,attempt:b,maxRetries:d,waitTime:a,error:k instanceof Error?k.message:k}),j&&j(b,k),await new Promise(b=>setTimeout(b,a))}throw c}},44493:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/chad-mini/Vibe/apps/FUCKIT/components/ErrorBoundary.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/components/ErrorBoundary.tsx","default")},52608:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/chad-mini/Vibe/apps/FUCKIT/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/app/error.tsx","default")},54668:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,85814,23))},58014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n,metadata:()=>l,viewport:()=>m});var d=c(37413),e=c(59258),f=c.n(e);c(82704);var g=c(70465),h=c(44493),i=c(27024),j=c(21246),k=c(8199);let l={title:"DoerfelVerse - Music & Podcast Hub",description:"Discover and listen to music and podcasts from the Doerfel family and friends",manifest:"/manifest.json",icons:{icon:[{url:"/favicon-16x16.png",sizes:"16x16",type:"image/png"},{url:"/favicon-32x32.png",sizes:"32x32",type:"image/png"},{url:"/icon-192x192.png",sizes:"192x192",type:"image/png"},{url:"/icon-512x512.png",sizes:"512x512",type:"image/png"}],apple:[{url:"/apple-touch-icon.png",sizes:"180x180",type:"image/png"},{url:"/apple-touch-icon-152x152.png",sizes:"152x152",type:"image/png"},{url:"/apple-touch-icon-144x144.png",sizes:"144x144",type:"image/png"},{url:"/apple-touch-icon-120x120.png",sizes:"120x120",type:"image/png"},{url:"/apple-touch-icon-76x76.png",sizes:"76x76",type:"image/png"}]},appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"DoerfelVerse",startupImage:[{url:"/apple-touch-icon.png",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"}]},other:{"apple-mobile-web-app-capable":"yes","apple-mobile-web-app-status-bar-style":"black-translucent","apple-mobile-web-app-title":"DoerfelVerse","mobile-web-app-capable":"yes","format-detection":"telephone=no"}},m={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#1f2937",viewportFit:"cover"};function n({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsxs)("body",{className:f().className,children:[(0,d.jsx)(h.default,{children:(0,d.jsxs)(j.AudioProvider,{children:[(0,d.jsx)("div",{className:"min-h-screen bg-gray-50",children:a}),(0,d.jsx)(k.default,{}),(0,d.jsx)(i.ToastContainer,{})]})}),(0,d.jsx)(g.default,{}),(0,d.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              // Cache busting and error prevention script
              (function() {
                console.log('🔧 Cache busting script loaded');
                
                // Prevent infinite recursion by limiting function calls
                let recursionCount = 0;
                const maxRecursion = 100;
                
                // Override console.error to catch recursion errors
                const originalError = console.error;
                console.error = function(...args) {
                  const message = args.join(' ');
                  if (message.includes('too much recursion')) {
                    recursionCount++;
                    if (recursionCount > maxRecursion) {
                      console.warn('🛑 Too many recursion errors, stopping error logging');
                      return;
                    }
                    console.warn('🔄 Recursion error detected, count:', recursionCount);
                  }
                  originalError.apply(console, args);
                };
                
                // Clear any problematic state
                if (typeof window !== 'undefined') {
                  // Clear any cached audio contexts
                  if (window.audioContextCache) {
                    delete window.audioContextCache;
                  }
                  
                  // Force garbage collection if available
                  if (window.gc) {
                    window.gc();
                  }
                }
                
                console.log('✅ Cache busting script initialized');
              })();
            `}})]})})}},62582:(a,b,c)=>{Promise.resolve().then(c.bind(c,44493)),Promise.resolve().then(c.bind(c,8199)),Promise.resolve().then(c.bind(c,70465)),Promise.resolve().then(c.bind(c,27024)),Promise.resolve().then(c.bind(c,21246))},63955:(a,b,c)=>{"use strict";function d(a,b="medium"){return a?(a.startsWith("http://")&&(a=a.replace("http://","https://")),a):e(b)}function e(a="medium"){let{width:b,height:c}={thumbnail:{width:150,height:150},medium:{width:300,height:300},large:{width:600,height:600}}[a],d=`
    <svg width="${b}" height="${c}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#1f2937;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#374151;stop-opacity:1" />
        </linearGradient>
      </defs>
      <rect width="100%" height="100%" fill="url(#grad)"/>
      <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="${.1*Math.min(b,c)}" 
            fill="#ffffff" text-anchor="middle" dy="0.35em">Music</text>
    </svg>
  `;return`data:image/svg+xml;base64,${btoa(d)}`}c.d(b,{ex:()=>e,rE:()=>d})},67820:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4536,23))},69392:(a,b,c)=>{"use strict";c.d(b,{AudioProvider:()=>j,G:()=>i});var d=c(60687),e=c(43210),f=c(382),g=c(13637);let h=(0,e.createContext)(void 0),i=()=>{let a=(0,e.useContext)(h);if(!a)throw Error("useAudio must be used within an AudioProvider");return a},j=({children:a})=>{let[b,c]=(0,e.useState)(null),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(0),[m,n]=(0,e.useState)(0),[o,p]=(0,e.useState)(0),[q,r]=(0,e.useState)([]),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)([]),[A,B]=(0,e.useState)(0),C=(0,e.useRef)(null),D=(0,e.useRef)(null),E=(0,e.useRef)(null);(0,e.useEffect)(()=>{},[]),(0,e.useEffect)(()=>{let a=()=>{C.current&&!s&&(t(!0),console.log("\uD83D\uDD13 Audio context unlocked via user interaction"))},b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),c=["click","touchstart","touchend","keydown"];return c.forEach(b=>{document.addEventListener(b,a,{once:!0})}),b&&console.log("\uD83D\uDCF1 Mobile device detected - audio will require explicit user interaction"),()=>{c.forEach(b=>{document.removeEventListener(b,a)})}},[]),(0,e.useEffect)(()=>{},[b,k,m,o]),(0,e.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/albums");if(a.ok){let b=await a.json();r(b.albums||[])}}catch(a){console.warn("Failed to load albums for audio context:",a)}})()},[]);let F=a=>a.toLowerCase().includes(".m3u8"),G=a=>{let b=[];try{let c=new URL(a).hostname!==window.location.hostname;if(F(a))return b.push(`/api/proxy-video?url=${encodeURIComponent(a)}`),b.push(`/api/proxy-audio?url=${encodeURIComponent(a)}`),b.push(a),b;if(a.includes("op3.dev/e,")&&a.includes("/https://")){let c=a.split("/https://")[1];if(c){let d=`https://${c}`;console.log("\uD83D\uDD17 Extracted direct URL from op3.dev:",d),b.push(d),b.push(`/api/proxy-audio?url=${encodeURIComponent(d)}`),b.push(`/api/proxy-audio?url=${encodeURIComponent(a)}`),b.push(a)}else b.push(`/api/proxy-audio?url=${encodeURIComponent(a)}`),b.push(a)}else c&&b.push(`/api/proxy-audio?url=${encodeURIComponent(a)}`),b.push(a)}catch(c){console.warn("⚠️ Could not parse audio URL, using as-is:",a),b.push(a)}return b},H=async(a,b="HLS playback")=>{let c=D.current;if(!c)return console.error("❌ Video element reference is null for HLS playback"),!1;let d=G(a);console.log(`🔄 ${b}: Trying ${d.length} HLS URLs`);for(let a=0;a<d.length;a++){let e=d[a];console.log(`🔄 ${b} attempt ${a+1}/${d.length}: ${e.includes("proxy-audio")?"Proxied HLS URL":"Direct HLS URL"}`);try{if(E.current&&(E.current.destroy(),E.current=null),g.Ay.isSupported()){let d=new g.Ay({enableWorker:!0,lowLatencyMode:!1,xhrSetup:function(a,b){a.setRequestHeader("Access-Control-Allow-Origin","*")}});E.current=d,c.src="",c.load();let f=new Promise(e=>{let f=!1;d.on(g.Ay.Events.MANIFEST_PARSED,()=>{console.log("✅ HLS manifest parsed successfully")}),d.on(g.Ay.Events.LEVEL_LOADED,()=>{console.log("✅ HLS level loaded, attempting playback"),f||c.play().then(()=>{console.log(`✅ ${b} started successfully`),f=!0,e(!0)}).catch(a=>{console.error("❌ HLS playback failed:",a),f||(f=!0,e(!1))})}),d.on(g.Ay.Events.ERROR,(a,b)=>{console.error("❌ HLS error:",b),b.fatal&&(console.error("❌ Fatal HLS error, trying next URL"),d.destroy(),E.current=null,f||(f=!0,e(!1)))}),setTimeout(()=>{console.warn(`⏰ ${b} timed out for URL ${a+1}`),f||(f=!0,e(!1))},2e4)});if(d.loadSource(e),d.attachMedia(c),await f)return!0}else{if(!c.canPlayType("application/vnd.apple.mpegurl"))return console.error("❌ HLS not supported in this browser"),f.o.error("Video streaming not supported in this browser",5e3),!1;console.log("\uD83C\uDF4E Using Safari native HLS support"),c.src=e,c.load();let a=c.play();if(void 0!==a)return await a,console.log(`✅ ${b} started successfully with Safari native HLS`),!0}}catch(c){console.error(`❌ ${b} attempt ${a+1} failed:`,c),E.current&&(E.current.destroy(),E.current=null),await new Promise(a=>setTimeout(a,1e3))}}return console.error(`❌ All ${d.length} HLS URLs failed for ${b}`),!1},I=async(a,b="playback")=>{let c=(a=>{let b=a.toLowerCase();return[".mp4",".webm",".ogg",".m3u8",".m4v",".mov",".avi",".mkv"].some(a=>b.includes(a))})(a),d=F(a);if(!(c?D.current:C.current))return console.error(`❌ ${c?"Video":"Audio"} element reference is null`),!1;if(v(c),c&&console.log("\uD83C\uDFAC Video URL detected, switching to video mode:",a),d)return console.log("\uD83D\uDCFA HLS stream detected, using hls.js:",a),H(a,b);let e=G(a);for(let a=0;a<e.length;a++){let d=e[a];console.log(`🔄 ${b} attempt ${a+1}/${e.length}: ${d.includes("proxy-audio")?"Proxied URL":"Direct URL"}`);try{E.current&&(E.current.destroy(),E.current=null);let a=c?D.current:C.current;if(!a)return console.error(`❌ ${c?"Video":"Audio"} element became null during playback attempt`),!1;a.src=d,a.load(),c||(a.volume=.8),await new Promise(a=>setTimeout(a,100)),a.muted=!1,c||(a.volume=.8);let e=a.play();if(void 0!==e)return await e,console.log(`✅ ${b} started successfully with ${d.includes("proxy-audio")?"proxied":"direct"} URL (${c?"VIDEO":"AUDIO"} mode)`),!0}catch(c){if(console.warn(`⚠️ ${b} attempt ${a+1} failed:`,c),c instanceof DOMException){if("NotAllowedError"===c.name){console.log("\uD83D\uDEAB Autoplay blocked - user interaction required. Please click or tap to enable audio."),f.o.info("Click anywhere on the page to enable audio playback",8e3);break}else if("NotSupportedError"===c.name){console.log("\uD83D\uDEAB Audio format not supported");continue}else if("AbortError"===c.name){console.log("\uD83D\uDEAB Audio request aborted - trying next URL");continue}else if(c.message.includes("CORS")||c.message.includes("cross-origin")){console.log("\uD83D\uDEAB CORS error - trying next URL");continue}}await new Promise(a=>setTimeout(a,500))}}return!1};(0,e.useEffect)(()=>{let a=C.current,b=D.current;if(!a||!b)return;let c=()=>{j(!0)},d=()=>{j(!1)},e=async()=>{try{await M()}catch(a){console.error("❌ Error in auto-play:",a)}},f=()=>{n((u?b:a).currentTime)},g=()=>{p((u?b:a).duration)},h=a=>{if(console.error(`🚫 ${u?"Video":"Audio"} error:`,a.target?.error),j(!1),E.current)console.log("\uD83D\uDD04 HLS error handled by hls.js, not clearing source");else{let a=u?D.current:C.current;a&&(a.src="",a.load())}},i=[a,b];return i.forEach(a=>{a.addEventListener("play",c),a.addEventListener("pause",d),a.addEventListener("ended",e),a.addEventListener("timeupdate",f),a.addEventListener("loadedmetadata",g),a.addEventListener("error",h)}),()=>{i.forEach(a=>{a.removeEventListener("play",c),a.removeEventListener("pause",d),a.removeEventListener("ended",e),a.removeEventListener("timeupdate",f),a.removeEventListener("loadedmetadata",g),a.removeEventListener("error",h)}),E.current&&(E.current.destroy(),E.current=null)}},[b,k,u]);let J=async(a,b=0)=>{if(!a.tracks||0===a.tracks.length)return console.error("❌ No tracks found in album"),!1;let d=a.tracks[b];if(!d||!d.url)return console.error("❌ No valid track found at index",b),!1;let e=await I(d.url,"Album playback");return e&&(c(a),l(b),t(!0),w||(x(!1),z([]),B(0))),e},K=async a=>{if(!y[a])return console.error("❌ Invalid shuffle track index:",a,"playlist length:",y.length),!1;let b=y[a],d=b.track,e=b.album;if(!d||!d.url)return console.error("❌ No valid track found in shuffled playlist"),!1;let f=await I(d.url,"Shuffled track playback");return f&&(c(e),l(b.trackIndex),B(a),t(!0)),f},L=async()=>{if(0===q.length)return console.warn("No albums available for shuffle"),!1;let a=[];if(q.forEach(b=>{b.tracks&&b.tracks.length>0&&b.tracks.forEach((c,d)=>{a.push({album:b,trackIndex:d,track:c})})}),0===a.length)return console.warn("No tracks available for shuffle"),!1;let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}z(b),B(0),x(!0);let d=b[0];console.log("\uD83C\uDFB2 Starting shuffle with:",d.track.title,"from",d.album.title);let e=d.track,f=d.album;if(!e||!e.url)return console.error("❌ No valid track found in shuffled playlist"),!1;let g=await I(e.url,"Shuffled track playback");return g&&(c(f),l(d.trackIndex),B(0),t(!0)),g},M=async()=>{if(w&&y.length>0){let a=A+1;if(a<y.length){let b=y[a];console.log("\uD83C\uDFB2 Playing next shuffled track:",b.track.title,"from",b.album.title),await K(a)}else console.log("\uD83D\uDD01 End of shuffled playlist reached, looping back to first track"),await K(0);return}if(!b||!b.tracks)return;let a=k+1;a<b.tracks.length?await J(b,a):await J(b,0)},N=async()=>{if(w&&y.length>0){let a=A-1;if(a>=0){let b=y[a];console.log("\uD83C\uDFB2 Playing previous shuffled track:",b.track.title,"from",b.album.title),await K(a)}else{let a=y.length-1,b=y[a];console.log("\uD83C\uDFB2 Playing last shuffled track:",b.track.title,"from",b.album.title),await K(a)}return}if(!b||!b.tracks)return;let a=k-1;a>=0&&(console.log("\uD83C\uDFB5 Playing previous track:",b.tracks[a].title),await J(b,a))};return(0,d.jsxs)(h.Provider,{value:{currentPlayingAlbum:b,isPlaying:i,currentTrackIndex:k,currentTime:m,duration:o,isVideoMode:u,isShuffleMode:w,playAlbum:J,playShuffledTrack:K,shuffleAllTracks:L,pause:()=>{let a=u?D.current:C.current;a&&a.pause()},resume:()=>{let a=u?D.current:C.current;a&&a.play()},seek:a=>{let b=u?D.current:C.current;b&&o&&(b.currentTime=Math.max(0,Math.min(a,o)),n(b.currentTime))},playNextTrack:M,playPreviousTrack:N,stop:()=>{C.current&&(C.current.pause(),C.current.currentTime=0),D.current&&(D.current.pause(),D.current.currentTime=0),E.current&&(E.current.destroy(),E.current=null),j(!1),c(null),l(0),n(0),p(0),v(!1),x(!1),z([]),B(0)},audioRef:C,videoRef:D},children:[a,(0,d.jsx)("audio",{ref:C,preload:"metadata",crossOrigin:"anonymous",playsInline:!0,"webkit-playsinline":"true",autoPlay:!1,controls:!1,muted:!1,style:{display:"none"}}),(0,d.jsx)("video",{ref:D,preload:"none",crossOrigin:"anonymous",playsInline:!0,"webkit-playsinline":"true",autoPlay:!1,controls:!1,muted:!1,style:{display:"none"}})]})}},69427:(a,b,c)=>{"use strict";c.d(b,{default:()=>f});var d=c(60687),e=c(43210);function f(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)(""),g=()=>{b(!1)};return a&&c?(0,d.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm bg-blue-600 text-white rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"w-6 h-6 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,d.jsxs)("div",{className:"ml-3 flex-1",children:[(0,d.jsx)("h3",{className:"text-sm font-medium",children:"App Updated!"}),(0,d.jsxs)("p",{className:"text-xs text-blue-100 mt-1",children:["Version ",c," is ready. Reload to get the latest features."]}),(0,d.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{a&&navigator.serviceWorker.getRegistration().then(a=>{a&&a.waiting&&a.waiting.postMessage({type:"SKIP_WAITING"})})},className:"bg-blue-500 hover:bg-blue-400 text-white text-xs px-3 py-1 rounded transition-colors",children:"Reload Now"}),(0,d.jsx)("button",{onClick:g,className:"bg-transparent hover:bg-blue-500 text-blue-200 hover:text-white text-xs px-3 py-1 rounded border border-blue-400 transition-colors",children:"Later"})]})]}),(0,d.jsx)("button",{onClick:g,className:"flex-shrink-0 ml-2 text-blue-200 hover:text-white",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}},70338:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},70465:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/chad-mini/Vibe/apps/FUCKIT/components/ServiceWorkerRegistration.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/chad-mini/Vibe/apps/FUCKIT/components/ServiceWorkerRegistration.tsx","default")},78071:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(60687),e=c(30474),f=c(43210);function g({src:a,alt:b,width:c,height:g,className:h,priority:i=!1,quality:j=85,onError:k,onLoad:l,fallbackSrc:m,sizes:n,placeholder:o="empty",...p}){let[q,r]=(0,f.useState)(!0),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(a),[w,x]=(0,f.useState)(0),[y,z]=(0,f.useState)(null),[A,B]=(0,f.useState)(!1),[C,D]=(0,f.useState)(!1),[E,F]=(0,f.useState)(!1),G=(0,f.useRef)(null),[H,I]=(0,f.useState)(!1),[J,K]=(0,f.useState)(!1),[L,M]=(0,f.useState)(!1),[N,O]=(0,f.useState)(""),P=()=>{if(r(!1),y&&(clearTimeout(y),z(null)),0===w&&m&&m!==u){v(m),t(!1),r(!0),x(1),z(setTimeout(()=>{P()},A?8e3:1e4));return}if(0===w&&m===u){x(1),P();return}if(1===w&&!u.includes("/api/")){v(`/api/proxy-image?url=${encodeURIComponent(u)}`),t(!1),r(!0),x(2),z(setTimeout(()=>{P()},A?1e4:12e3));return}if(2===w&&u.includes("/api/optimized-images/")){let a=(u.includes("/api/optimized-images/")&&u.split("/").pop()?.split("?")[0],m||u);if(a&&a!==u){v(a),t(!1),r(!0),x(3),z(setTimeout(()=>{P()},A?12e3:15e3));return}}t(!0),k?.()},Q=()=>{r(!1),t(!1),F(!0),y&&(clearTimeout(y),z(null)),l?.()},R=(()=>{if(c&&g)return{width:c,height:g};if(A)if(H)return{width:200,height:200};else if(J)return{width:300,height:300};else return{width:400,height:400};return H?{width:300,height:300}:J?{width:400,height:400}:{width:500,height:500}})();return(0,d.jsxs)("div",{className:`relative ${h||""}`,ref:G,children:[q&&(0,d.jsxs)("div",{className:"absolute inset-0 bg-gray-800/50 animate-pulse rounded flex items-center justify-center",children:[(0,d.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full animate-spin"}),A&&(0,d.jsx)("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-xs px-1 py-0.5 rounded",children:"\uD83C\uDFAC GIF"})]}),s&&(0,d.jsx)("div",{className:"absolute inset-0 bg-gray-800/50 rounded flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-white/60 text-sm",children:"Image unavailable"})}),L&&H?(0,d.jsx)("img",{src:C?u:"",alt:b,width:R.width,height:R.height,className:`${q?"opacity-0":"opacity-100"} transition-opacity duration-300 ${h||""}`,onError:a=>{P()},onLoad:a=>{Q()},loading:i?"eager":"lazy",referrerPolicy:"no-referrer",crossOrigin:"anonymous",style:{objectFit:"cover",width:"100%",height:"100%",display:"block"},...p}):(0,d.jsx)(e.default,{src:C?u:"",alt:b,width:R.width,height:R.height,className:`${q?"opacity-0":"opacity-100"} transition-opacity duration-300`,priority:i,quality:j,sizes:(()=>{if(n)return n;if(A)if(H)return"(max-width: 768px) 200px, (max-width: 1024px) 300px, 400px";else if(J)return"(max-width: 1024px) 300px, 400px";else return"(max-width: 768px) 200px, (max-width: 1024px) 300px, 400px";return H?"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw":J?"(max-width: 1024px) 50vw, 33vw":"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"})(),onError:P,onLoad:Q,placeholder:o,unoptimized:u.includes("/api/optimized-images/"),...p}),!1]})}},82366:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(37413),e=c(4536),f=c.n(e),g=c(78768),h=c(20819);function i(){return(0,d.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-gray-900 rounded-lg shadow-lg p-8 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(g.A,{className:"h-16 w-16 text-blue-500"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Page Not Found"}),(0,d.jsx)("p",{className:"text-gray-400 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),(0,d.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:(0,d.jsxs)(f(),{href:"/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,d.jsx)(h.A,{className:"h-4 w-4"}),"Go Home"]})})]})})}},82704:()=>{},82919:(a,b,c)=>{Promise.resolve().then(c.bind(c,52608))},86142:(a,b,c)=>{Promise.resolve().then(c.bind(c,93331)),Promise.resolve().then(c.bind(c,98949)),Promise.resolve().then(c.bind(c,69427)),Promise.resolve().then(c.bind(c,382)),Promise.resolve().then(c.bind(c,69392))},93331:(a,b,c)=>{"use strict";c.d(b,{default:()=>l});var d=c(60687),e=c(43210),f=c(63851),g=c(78122),h=c(37897),i=c(85814),j=c.n(i);let k=(0,c(29928).vf)("ErrorBoundary");class l extends e.Component{constructor(a){super(a),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,b){k.error("React error boundary caught error",a,{componentStack:b.componentStack,digest:b.digest}),this.setState({errorInfo:b}),this.props.onError?.(a,b)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,d.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-gray-900 rounded-lg shadow-lg p-8 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(f.A,{className:"h-16 w-16 text-red-500"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Oops! Something went wrong"}),(0,d.jsx)("p",{className:"text-gray-400 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1,(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,d.jsxs)("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),"Try Again"]}),(0,d.jsxs)(j(),{href:"/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[(0,d.jsx)(h.A,{className:"h-4 w-4"}),"Go Home"]})]})]})}):this.props.children}}},98949:(a,b,c)=>{"use strict";c.d(b,{default:()=>l});var d=c(60687),e=c(43210),f=c(85814),g=c.n(f),h=c(78071),i=c(63955);let j=({track:a,isPlaying:b,currentTime:c,volume:f,onPlayPause:j,onPrevious:k,onNext:l,onSeek:m,onVolumeChange:n,onClose:o})=>{let p,[q,r]=(0,e.useState)(null),s=a=>{if(!a||isNaN(a))return"0:00";let b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%60);return b>0?`${b}:${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`:`${c}:${d.toString().padStart(2,"0")}`};return(0,d.jsxs)("div",{className:"container mx-auto flex items-center gap-4",children:[(0,d.jsxs)(g(),{href:(p=a.albumTitle,`/album/${encodeURIComponent(p)}`),className:"flex items-center gap-3 min-w-0 flex-1 hover:bg-gray-700 rounded-lg p-2 -m-2 transition-colors cursor-pointer",children:[(0,d.jsx)(h.A,{src:a.albumArt||"",alt:a.title,width:48,height:48,className:"rounded-lg object-cover w-12 h-12 flex-shrink-0",fallbackSrc:(0,i.ex)("thumbnail")}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("p",{className:"font-bold truncate text-white",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-400 truncate",children:a.artist})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3 flex-1",children:[(0,d.jsx)("button",{onClick:k,className:"bg-gray-600 hover:bg-gray-500 text-white rounded-full p-2 transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,d.jsx)("button",{onClick:j,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-full p-3 transition-all",style:{width:"48px",height:"48px"},children:b?(0,d.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,d.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,d.jsx)("button",{onClick:l,className:"bg-gray-600 hover:bg-gray-500 text-white rounded-full p-2 transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-1 max-w-md",children:[(0,d.jsx)("span",{className:"text-xs text-white w-12 text-right",children:s(c)}),(0,d.jsxs)("div",{className:"flex-1 h-2 bg-gray-600 rounded-full cursor-pointer relative group",onClick:b=>{let c=b.currentTarget.getBoundingClientRect();m((b.clientX-c.left)/c.width*a.duration)},onMouseMove:a=>{let b=a.currentTarget.getBoundingClientRect();r(Math.max(0,Math.min(1,(a.clientX-b.left)/b.width)))},onMouseLeave:()=>{r(null)},children:[(0,d.jsx)("div",{className:"h-full bg-orange-500 rounded-full transition-all duration-100",style:{width:`${a.duration?c/a.duration*100:0}%`}}),null!==q&&(0,d.jsx)("div",{className:"absolute top-0 left-0 h-full bg-orange-400/60 rounded-full pointer-events-none transition-all duration-75",style:{width:`${100*q}%`}}),null!==q&&(0,d.jsx)("div",{className:"absolute -top-8 bg-gray-900 text-white text-xs px-2 py-1 rounded pointer-events-none",style:{left:`${100*q}%`,transform:"translateX(-50%)",minWidth:"max-content"},children:s(q*a.duration)})]}),(0,d.jsx)("span",{className:"text-xs text-white w-12 text-left",children:s(a.duration)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,d.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),(0,d.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:f,onChange:a=>n(parseFloat(a.target.value)),className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, white 0%, white ${100*f}%, #4b5563 ${100*f}%, #4b5563 100%)`}})]}),(0,d.jsx)("button",{onClick:o,className:"text-white hover:text-gray-300 transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})};var k=c(69392);let l=()=>{let{currentPlayingAlbum:a,isPlaying:b,currentTrackIndex:c,currentTime:f,duration:g,pause:h,resume:i,seek:l,playNextTrack:m,playPreviousTrack:n,stop:o}=(0,k.G)(),[p,q]=(0,e.useState)(.6);if(!a)return null;let r={title:a.tracks?.[c]?.title||`Track ${c+1}`,artist:a.artist,albumTitle:a.title,duration:g||0,albumArt:a.tracks?.[c]?.image||a.coverArt||""};return(0,d.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"16px",paddingBottom:"calc(16px + env(safe-area-inset-bottom))",backgroundColor:"#1f2937",borderTop:"1px solid #f97316",zIndex:50},children:(0,d.jsx)(j,{track:r,isPlaying:b,currentTime:f,volume:p,onPlayPause:()=>{b?h():i()},onPrevious:n,onNext:m,onSeek:a=>{l(a)},onVolumeChange:a=>{q(a)},onClose:()=>{o()}})})}}};